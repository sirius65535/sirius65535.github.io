<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Python3基础知识7"><meta name="keywords" content="Python3，函数"><meta name="author" content="Sirius65535,undefined"><meta name="copyright" content="Sirius65535"><title>Python3基础知识7 | Sirius' Notes</title><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css?version=1.5.1"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?cf6227e847d299d0912cc895a4939b58";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><script>var GLOBAL = { 
  root: '/',
  algolia: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  localSearch: {"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}"},"path":"search.xml"}
} </script></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-函数"><span class="toc-number">1.</span> <span class="toc-text">1 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-语法"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-函数调用"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 函数调用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-传递参数"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 传递参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-可更改-mutable-与不可更改-immutable-对象"><span class="toc-number">1.4.</span> <span class="toc-text">1.4 可更改(mutable)与不可更改(immutable)对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-python-传不可变对象实例"><span class="toc-number">1.5.</span> <span class="toc-text">1.5 python 传不可变对象实例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-6-传可变对象实例"><span class="toc-number">1.6.</span> <span class="toc-text">1.6 传可变对象实例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-7-参数"><span class="toc-number">1.7.</span> <span class="toc-text">1.7 参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-1-必须参数"><span class="toc-number">1.7.1.</span> <span class="toc-text">1.7.1 必须参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-2-关键字参数"><span class="toc-number">1.7.2.</span> <span class="toc-text">1.7.2 关键字参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-3-默认参数"><span class="toc-number">1.7.3.</span> <span class="toc-text">1.7.3 默认参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-3-不定长参数"><span class="toc-number">1.7.4.</span> <span class="toc-text">1.7.3 不定长参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-7-3-匿名函数"><span class="toc-number">1.7.5.</span> <span class="toc-text">1.7.3 匿名函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-8-return语句"><span class="toc-number">1.8.</span> <span class="toc-text">1.8 return语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-9-全局变量和局部变量"><span class="toc-number">1.9.</span> <span class="toc-text">1.9 全局变量和局部变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-10-global-和-nonlocal关键字"><span class="toc-number">1.10.</span> <span class="toc-text">1.10 global 和 nonlocal关键字</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="http://mypic666.test.upcdn.net/head.jpg"></div><div class="author-info__name text-center">Sirius65535</div><div class="author-info__description text-center">人一闲着就废了</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">20</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">23</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">3</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(http://mypic666.test.upcdn.net/TIM图片20180313130920.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Sirius' Notes</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a><a class="site-page" href="/gallery">Gallery</a><a class="site-page" href="/about">About</a></span></div><div id="post-info"><div id="post-title">Python3基础知识7</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-05-02</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Python3/">Python3</a><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">2,804</span><span class="post-meta__separator">|</span><span>阅读时长: 11 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div id="post-content"><h1 id="1-函数"><a href="#1-函数" class="headerlink" title="1 函数"></a>1 函数</h1><p>你可以定义一个由自己想要功能的函数，以下是简单的规则：</p>
<ul>
<li>函数代码块以 <strong>def</strong> 关键词开头，后接函数标识符名称和圆括号 <strong>()</strong>。</li>
<li>任何传入参数和自变量必须放在圆括号中间，圆括号之间可以用于定义参数。</li>
<li>函数的第一行语句可以选择性地使用文档字符串—用于存放函数说明。</li>
<li>函数内容以冒号起始，并且缩进。</li>
<li><strong>return [表达式]</strong> 结束函数，选择性地返回一个值给调用方。不带表达式的return相当于返回 None。</li>
</ul>
<a id="more"></a>
<h2 id="1-1-语法"><a href="#1-1-语法" class="headerlink" title="1.1 语法"></a>1.1 语法</h2><p>Python 定义函数使用 def 关键字，一般格式如下：<br><figure class="highlight flix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">函数名（参数列表）</span></span>:     </span><br><span class="line">	函数体</span><br></pre></td></tr></table></figure></p>
<p>默认情况下，参数值和参数名称是按函数声明中定义的顺序匹配起来的。<br>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"></span><br><span class="line"># 计算三角形面积函数</span><br><span class="line">def  area(width, height):</span><br><span class="line">	return width * height/2</span><br><span class="line"></span><br><span class="line">def  print_welcome(name):</span><br><span class="line">	print(&quot;Welcome&quot;, name)</span><br><span class="line"></span><br><span class="line">print_welcome(&quot;Double666&quot;)</span><br><span class="line">w =  8</span><br><span class="line">h =  9</span><br><span class="line">print(&quot;width =&quot;, w, &quot; height =&quot;, h, &quot; triangle_area =&quot;,area(w, h))</span><br></pre></td></tr></table></figure></p>
<p>输出如下：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Welcome Double666</span><br><span class="line">width = <span class="number">8</span>  height = <span class="number">9</span>  triangle_area = <span class="number">36.0</span></span><br></pre></td></tr></table></figure></p>
<h2 id="1-2-函数调用"><a href="#1-2-函数调用" class="headerlink" title="1.2 函数调用"></a>1.2 函数调用</h2><p>定义一个函数：给了函数一个名称，指定了函数里包含的参数，和代码块结构。<br>这个函数的基本结构完成以后，你可以通过另一个函数调用执行，也可以直接从 Python 命令提示符执行。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"></span><br><span class="line"># 定义函数</span><br><span class="line">def  printme( str ):</span><br><span class="line">	print (str)</span><br><span class="line">	return</span><br><span class="line"># 调用函数</span><br><span class="line">printme(&quot;调用自定义函数&quot;)</span><br><span class="line">printme(&quot;再次调用同一函数&quot;)</span><br></pre></td></tr></table></figure></p>
<p>输出如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">调用自定义函数</span><br><span class="line">再次调用同一函数</span><br></pre></td></tr></table></figure></p>
<h2 id="1-3-传递参数"><a href="#1-3-传递参数" class="headerlink" title="1.3 传递参数"></a>1.3 传递参数</h2><p>在 python 中，类型属于对象，变量是没有类型的：<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">a</span>=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]  </span><br><span class="line"><span class="attr">b</span>=<span class="string">"Google"</span></span><br></pre></td></tr></table></figure></p>
<p>以上代码中，<strong>[1,2,3]</strong> 是 List 类型，<strong>“Google”</strong> 是 String 类型，而变量 a 是没有类型，它仅仅是一个对象的引用（一个指针），可以是指向 List 类型对象，也可以是指向 String 类型对象</p>
<h2 id="1-4-可更改-mutable-与不可更改-immutable-对象"><a href="#1-4-可更改-mutable-与不可更改-immutable-对象" class="headerlink" title="1.4 可更改(mutable)与不可更改(immutable)对象"></a>1.4 可更改(mutable)与不可更改(immutable)对象</h2><p>在 python 中，strings, tuples, 和 numbers 是不可更改的对象，而 list,dict 等则是可以修改的对象。</p>
<ul>
<li><p><strong>不可变类型：</strong>变量赋值 <strong>a=5</strong> 后再赋值 <strong>a=10</strong>，这里实际是新生成一个 int 值对象 10，再让 a 指向它，而 5 被丢弃，不是改变a的值，相当于新生成了a。</p>
</li>
<li><p><strong>可变类型：</strong>变量赋值 <strong>la=[1,2,3,4]</strong> 后再赋值 <strong>la[2]=5</strong> 则是将 list la 的第三个元素值更改，本身la没有动，只是其内部的一部分值被修改了。</p>
</li>
</ul>
<p>python 函数的参数传递：</p>
<ul>
<li><p><strong>不可变类型：</strong>类似 c++ 的值传递，如 整数、字符串、元组。如fun（a），<strong>传递的只是a的值，没有影响a对象本身</strong>。比如在 fun（a）内部修改 a 的值，只是修改另一个复制的对象，不会影响 a 本身。</p>
</li>
<li><p><strong>可变类型：</strong>类似 c++ 的引用传递，如 列表，字典。如 fun（la），则是将 la 真正的传过去，修改后fun外部的la也会受影响</p>
</li>
</ul>
<p>python 中一切都是对象，严格意义我们不能说值传递还是引用传递，我们应该说传不可变对象和传可变对象。</p>
<h2 id="1-5-python-传不可变对象实例"><a href="#1-5-python-传不可变对象实例" class="headerlink" title="1.5 python 传不可变对象实例"></a>1.5 python 传不可变对象实例</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"></span><br><span class="line">def  ChangeInt( a ):</span><br><span class="line">	a =  10</span><br><span class="line"></span><br><span class="line">b =  2</span><br><span class="line">ChangeInt(b)</span><br><span class="line">print( b )</span><br></pre></td></tr></table></figure>
<p>输出如下：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure></p>
<p>实例中有 int 对象 2，指向它的变量是 b，在传递给 ChangeInt 函数时，按传值的方式复制了变量 b，a 和 b 都指向了同一个 Int 对象，在 a=10 时，则新生成一个 int 值对象 10，并让 a 指向它。</p>
<h2 id="1-6-传可变对象实例"><a href="#1-6-传可变对象实例" class="headerlink" title="1.6 传可变对象实例"></a>1.6 传可变对象实例</h2><p>可变对象在函数里修改了参数，那么在调用这个函数的函数里，原始的参数也被改变了。例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"></span><br><span class="line">def  changeme( mylist ):</span><br><span class="line">	&quot;修改传入的列表&quot;</span><br><span class="line">	mylist.append([1,2,3,4])</span><br><span class="line">	print (&quot;函数内取值: &quot;, mylist)</span><br><span class="line">	return</span><br><span class="line"># 调用changeme函数</span><br><span class="line">mylist =  [10,20,30]</span><br><span class="line">changeme( mylist )</span><br><span class="line">print (&quot;函数外取值: &quot;, mylist)</span><br></pre></td></tr></table></figure></p>
<p>输出如下：<br><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">函数内取值:  <span class="comment">[10, 20, 30, <span class="comment">[1, 2, 3, 4]</span>]</span></span><br><span class="line">函数外取值:  <span class="comment">[10, 20, 30, <span class="comment">[1, 2, 3, 4]</span>]</span></span><br></pre></td></tr></table></figure></p>
<h2 id="1-7-参数"><a href="#1-7-参数" class="headerlink" title="1.7 参数"></a>1.7 参数</h2><p>以下是调用函数时可使用的正式参数类型：</p>
<ul>
<li>必需参数</li>
<li>关键字参数</li>
<li>默认参数</li>
<li>不定长参数</li>
</ul>
<h3 id="1-7-1-必须参数"><a href="#1-7-1-必须参数" class="headerlink" title="1.7.1 必须参数"></a>1.7.1 必须参数</h3><p>必需参数须以正确的顺序传入函数。调用时的数量必须和声明时的一样。<br>调用printme()函数，你必须传入一个参数，不然会出现语法错误：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"></span><br><span class="line">def  printme( str ):</span><br><span class="line">&quot;打印任何传入的字符串&quot;</span><br><span class="line">print (str)</span><br><span class="line">return</span><br><span class="line">#调用printme函数</span><br><span class="line">printme()</span><br></pre></td></tr></table></figure></p>
<p>输出如下：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent <span class="keyword">call</span> <span class="keyword">last</span>):</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"e:/Python3 Study/test.py"</span>, line <span class="number">468</span>, <span class="keyword">in</span> &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    printme()</span><br><span class="line">TypeError: printme() <span class="keyword">missing</span> <span class="number">1</span> <span class="keyword">required</span> positional argument: <span class="string">'str'</span></span><br></pre></td></tr></table></figure></p>
<h3 id="1-7-2-关键字参数"><a href="#1-7-2-关键字参数" class="headerlink" title="1.7.2 关键字参数"></a>1.7.2 关键字参数</h3><p>关键字参数和函数调用关系紧密，函数调用使用关键字参数来确定传入的参数值。<br>使用关键字参数允许函数调用时参数的顺序与声明时不一致，因为 Python 解释器能够用参数名匹配参数值。<br>以下实例在函数 printme() 调用时使用参数名：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"></span><br><span class="line">#可写函数说明</span><br><span class="line">	def  printme( str ):</span><br><span class="line">	&quot;打印任何传入的字符串&quot;</span><br><span class="line">	print (str)</span><br><span class="line">	return</span><br><span class="line">#调用printme函数</span><br><span class="line">printme( str = &quot;Google&quot;)</span><br></pre></td></tr></table></figure></p>
<p>输出如下：<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Google</span></span><br></pre></td></tr></table></figure></p>
<p>以下实例中演示了函数参数的使用不需要使用指定顺序：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"></span><br><span class="line">#可写函数说明</span><br><span class="line">def  printinfo( name, age ):</span><br><span class="line">&quot;打印任何传入的字符串&quot;</span><br><span class="line">print (&quot;名字: &quot;, name)</span><br><span class="line">print (&quot;年龄: &quot;, age)</span><br><span class="line">return</span><br><span class="line">#调用printinfo函数</span><br><span class="line">printinfo( age=21, name=&quot;Jane&quot; )</span><br></pre></td></tr></table></figure></p>
<p>输出如下：<br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">名字:  Jane</span></span><br><span class="line"><span class="section">年龄:  21</span></span><br></pre></td></tr></table></figure></p>
<h3 id="1-7-3-默认参数"><a href="#1-7-3-默认参数" class="headerlink" title="1.7.3 默认参数"></a>1.7.3 默认参数</h3><p>调用函数时，如果没有传递参数，则会使用默认参数。以下实例中如果没有传入 age 参数，则使用默认值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"></span><br><span class="line">def  printinfo( name, age  =  35 ):</span><br><span class="line">	&quot;打印任何传入的字符串&quot;</span><br><span class="line">	print (&quot;名字: &quot;, name)</span><br><span class="line">	print (&quot;年龄: &quot;, age)</span><br><span class="line">	return</span><br><span class="line">#调用printinfo函数</span><br><span class="line">printinfo( age=50, name=&quot;Jack&quot; )</span><br><span class="line">print (&quot;------------------------&quot;)</span><br><span class="line">printinfo( name=&quot;Mike&quot; )</span><br></pre></td></tr></table></figure>
<p>输出如下：<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">名字:  Jack</span><br><span class="line">年龄:  50</span><br><span class="line">------------------------</span><br><span class="line">名字:  Mike</span><br><span class="line">年龄:  35</span><br></pre></td></tr></table></figure></p>
<h3 id="1-7-3-不定长参数"><a href="#1-7-3-不定长参数" class="headerlink" title="1.7.3 不定长参数"></a>1.7.3 不定长参数</h3><p>你可能需要一个函数能处理比当初声明时更多的参数。这些参数叫做不定长参数，和上述2种参数不同，声明时不会命名。加了星号（*）的变量名会存放所有未命名的变量参数。如果在函数调用时没有指定参数，它就是一个空元组。我们也可以不向函数传递未命名的变量。如下实例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"></span><br><span class="line"># 可写函数说明</span><br><span class="line">def  printinfo( arg1, *vartuple ):</span><br><span class="line">	&quot;打印任何传入的参数&quot;</span><br><span class="line">	print (&quot;输出: &quot;)</span><br><span class="line">	print (arg1)</span><br><span class="line">	for var in vartuple:</span><br><span class="line">		print (var)</span><br><span class="line">	return</span><br><span class="line"># 调用printinfo 函数</span><br><span class="line">printinfo( 10 )</span><br><span class="line">printinfo( 70, 60, 50 )</span><br></pre></td></tr></table></figure></p>
<p>输出如下：<br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">输出:</span></span><br><span class="line">10</span><br><span class="line"><span class="section">输出:</span></span><br><span class="line">70</span><br><span class="line">60</span><br><span class="line">50</span><br></pre></td></tr></table></figure></p>
<h3 id="1-7-3-匿名函数"><a href="#1-7-3-匿名函数" class="headerlink" title="1.7.3 匿名函数"></a>1.7.3 匿名函数</h3><p>python 使用 lambda 来创建匿名函数。</p>
<p>所谓匿名，意即不再使用 def 语句这样标准的形式定义一个函数。</p>
<ul>
<li>lambda 只是一个表达式，函数体比 def 简单很多。</li>
<li>lambda的主体是一个表达式，而不是一个代码块。仅仅能在lambda表达式中封装有限的逻辑进去。</li>
<li>lambda 函数拥有自己的命名空间，且不能访问自己参数列表之外或全局命名空间里的参数。</li>
<li>虽然lambda函数看起来只能写一行，却不等同于C或C++的内联函数，后者的目的是调用小函数时不占用栈内存从而增加运行效率</li>
</ul>
<p>lambda 函数的语法只包含一个语句，如下：<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lambda [arg1 [,arg2,.....argn]]:expression</span><br></pre></td></tr></table></figure></p>
<p>如下实例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"></span><br><span class="line"># 可写函数说明</span><br><span class="line">sum  =  lambda  arg1, arg2: arg1 + arg2</span><br><span class="line"># 调用sum函数</span><br><span class="line">print (&quot;相加后的值为 : &quot;, sum( 10, 20 ))</span><br><span class="line">print (&quot;相加后的值为 : &quot;, sum( 20, 20 ))</span><br></pre></td></tr></table></figure></p>
<p>输出如下：<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">相加后的值为 :  30</span><br><span class="line">相加后的值为 :  40</span><br></pre></td></tr></table></figure></p>
<h2 id="1-8-return语句"><a href="#1-8-return语句" class="headerlink" title="1.8 return语句"></a>1.8 return语句</h2><p><strong>return [表达式]</strong> 语句用于退出函数，选择性地向调用方返回一个表达式。不带参数值的return语句返回None。之前的例子都没有示范如何返回数值，以下实例演示了 return 语句的用法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"></span><br><span class="line"># 可写函数说明</span><br><span class="line">def  sum( arg1, arg2 ):</span><br><span class="line">	# 返回2个参数的和.&quot;</span><br><span class="line">	total = arg1 + arg2</span><br><span class="line">	print (&quot;函数内 : &quot;, total)</span><br><span class="line">	return total</span><br><span class="line"></span><br><span class="line"># 调用sum函数</span><br><span class="line">a =  sum( 10, 20 )</span><br><span class="line">print (&quot;函数外 : &quot;, a)</span><br></pre></td></tr></table></figure></p>
<p>输出如下：<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">函数内 :  30</span><br><span class="line">函数外 :  30</span><br></pre></td></tr></table></figure></p>
<h2 id="1-9-全局变量和局部变量"><a href="#1-9-全局变量和局部变量" class="headerlink" title="1.9 全局变量和局部变量"></a>1.9 全局变量和局部变量</h2><p>定义在函数内部的变量拥有一个局部作用域，定义在函数外的拥有全局作用域。<br>局部变量只能在其被声明的函数内部访问，而全局变量可以在整个程序范围内访问。调用函数时，所有在函数内声明的变量名称都将被加入到作用域中。如下实例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"></span><br><span class="line">total =  0  # 这是一个全局变量</span><br><span class="line"># 可写函数说明</span><br><span class="line">def  sum( arg1, arg2 ):</span><br><span class="line">	#返回2个参数的和.&quot;</span><br><span class="line">	total = arg1 + arg2 # total在这里是局部变量.</span><br><span class="line">	print (&quot;函数内是局部变量 : &quot;, total)</span><br><span class="line">	return total</span><br><span class="line"></span><br><span class="line">#调用sum函数</span><br><span class="line">sum( 10, 20 )</span><br><span class="line">print (&quot;函数外是全局变量 : &quot;, total)</span><br></pre></td></tr></table></figure></p>
<p>输出如下：<br><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">函数内是局部变量 :  30</span><br><span class="line">函数外是全局变量 :  0</span><br></pre></td></tr></table></figure></p>
<h2 id="1-10-global-和-nonlocal关键字"><a href="#1-10-global-和-nonlocal关键字" class="headerlink" title="1.10 global 和 nonlocal关键字"></a>1.10 global 和 nonlocal关键字</h2><p>当内部作用域想修改外部作用域的变量时，就要用到global和nonlocal关键字了。<br>以下实例修改全局变量 num：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"></span><br><span class="line">num =  1</span><br><span class="line">def  fun1():</span><br><span class="line">	global num # 需要使用 global 关键字声明</span><br><span class="line">	print(num)</span><br><span class="line">	num =  123</span><br><span class="line">	print(num)</span><br><span class="line">fun1()</span><br></pre></td></tr></table></figure></p>
<p>输出如下：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure></p>
<p>如果要修改嵌套作用域（enclosing 作用域，外层非全局作用域）中的变量则需要 nonlocal 关键字了，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"></span><br><span class="line">def  outer():</span><br><span class="line">	num =  10</span><br><span class="line">	def  inner():</span><br><span class="line">		nonlocal num # nonlocal关键字声明</span><br><span class="line">		num =  100</span><br><span class="line">		print(num)</span><br><span class="line">	inner()</span><br><span class="line">	print(num)</span><br><span class="line">outer()</span><br></pre></td></tr></table></figure>
<p>输出如下：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">100</span></span><br><span class="line"><span class="number">100</span></span><br></pre></td></tr></table></figure></p>
<p>如果要修改嵌套作用域（enclosing 作用域，外层非全局作用域）中的变量则需要 nonlocal 关键字了，例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"></span><br><span class="line">def  outer():</span><br><span class="line">	num =  10</span><br><span class="line">	def  inner():</span><br><span class="line">		nonlocal num # nonlocal关键字声明</span><br><span class="line">		num =  100</span><br><span class="line">		print(num)</span><br><span class="line">	inner()</span><br><span class="line">	print(num)</span><br><span class="line">outer()</span><br></pre></td></tr></table></figure></p>
<p>输出如下：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">100</span></span><br><span class="line"><span class="number">100</span></span><br></pre></td></tr></table></figure></p>
<p>另外有一种特殊情况，假设下面这段代码被运行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"></span><br><span class="line">a =  10</span><br><span class="line">def  test():</span><br><span class="line">	a = a +  1</span><br><span class="line">	print(a)</span><br><span class="line">test()</span><br></pre></td></tr></table></figure></p>
<p>输出如下：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent <span class="keyword">call</span> <span class="keyword">last</span>):</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"e:/Python3 Study/test.py"</span>, line <span class="number">589</span>, <span class="keyword">in</span> &lt;<span class="keyword">module</span>&gt;</span><br><span class="line">    <span class="keyword">test</span>()</span><br><span class="line">  <span class="keyword">File</span> <span class="string">"e:/Python3 Study/test.py"</span>, line <span class="number">587</span>, <span class="keyword">in</span> <span class="keyword">test</span></span><br><span class="line">    a = a + <span class="number">1</span></span><br><span class="line">UnboundLocalError: <span class="keyword">local</span> <span class="keyword">variable</span> <span class="string">'a'</span> <span class="keyword">referenced</span> <span class="keyword">before</span> assignment</span><br></pre></td></tr></table></figure></p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Sirius65535</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://sirius.ink/2018/05/02/Python3基础知识7/">http://sirius.ink/2018/05/02/Python3基础知识7/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://sirius.ink" target="_blank">Sirius' Notes</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Python3，函数/">Python3，函数</a></div><div class="addthis_inline_share_toolbox pull-right"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5ab37a9e3fac4027" async></script><nav id="pagination"><div class="prev-post pull-left"><a href="/2018/05/04/Python3基础知识8/"><i class="fa fa-chevron-left">  </i><span>Python3基础知识8</span></a></div><div class="next-post pull-right"><a href="/2018/04/30/Python3基础知识6/"><span>Python3基础知识6</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="vcomment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'true' == true ? true : false;
var verify = 'true' == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'erKofV5i61nQOLJktVm0fKqd-gzGzoHsz',
  appKey:'tw5hHM1euzFARmAdeCcGagJG',
  placeholder:'ヾﾉ≧∀≦)o来啊，快活啊!',
  avatar:'retro',
  guest_info:guest_info,
  pageSize:'10'
})</script></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2016 - 2018 By Sirius65535</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="icp"><a href="https://pages.coding.me"><span>Hosted by Coding Pages</span></a></div><div class="busuanzi"><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.5.1"></script><script src="/js/fancybox.js?version=1.5.1"></script><script src="/js/sidebar.js?version=1.5.1"></script><script src="/js/copy.js?version=1.5.1"></script><script src="/js/fireworks.js?version=1.5.1"></script><script src="/js/transition.js?version=1.5.1"></script><script src="/js/scroll.js?version=1.5.1"></script><script src="/js/head.js?version=1.5.1"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.bootcss.com/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>